@startuml

skinparam style strictuml
skinparam classAttributeIconSize 0
skinparam classFontStyle Bold
hide enum methods
hide interface attributes

package Model
{
    abstract Tile <<abstract>>
    {
        - isMovable : Boolean
        - isBlockedRight : Boolean
        - isBlockedLeft : Boolean
        - isBlockedTop : Boolean
        - isBlockedBottom : Boolean
        + <<Create>>Tile(position : Position)
        + getPosition() : position
        + getRight() : Boolean
        + getLeft() : Boolean
        + getTop() : Boolean
        + getBottom() : Boolean
         {abstract} + rotate(sens : Integer)
        {abstract} +getType(): TypeTile
    }

    class TileT extends Tile
    {
        + rotate(sens : Integer)
        +getType(): TypeTile
    }

    class TileLine extends Tile
    {
        + rotate(sens : Integer)
        +getType(): TypeTile
    }

    class TileAngle extends Tile
    {
        + rotate(sens : Integer)
        +getType(): TypeTile
    }

    class TileFactory
    {
        +<<Create>>TileFactory()
        +createTileAngle(): Tile
        +createTileT(): Tile
        +createTileLine(): Tile
    }

    enum Direction <<enum>>
    {
         TOP
         BOTTOM
         LEFT
         RIGHT
    }

    enum TypeTile <<enum>>
    {
         T
         ANGLE
         LINE
    }

    class Board
    {
        +<<Create>> Board()
        +initializeBoard()
        +pushRow(rowIndex : Integer, direction : Direction)
        +pushColumn(colIndex : Integer, direction : Direction)
        +getExtraTile() : Tile
    }

    class Objective
    {
        - nameObjective : String
        + <<Create>>Objective(position : Position)
        +getPosition() : Position
    }

    class Player
    {
        -numberReclaimedObjectives : Integer
        -numberRemainingObjectives : Integer
        +<<Create>>Player(position : Position, objectives : Objective[*])
        +getPosition() : Position
        +aWins() : Boolean
        +move(direction : Direction) : boolean
    }

    class Game
    {
        +initializeGame()
        +initialisatizePlayer()
        +start()
        +currentPlayer(player : Player)
        +pushTile(tile : Tile, player: Player)
        +movePlayer(player : Player)
        +notifyMove(player : Player, position : Position)
        +notifyPush()
        +end()
    }

    interface GameObserver <<interface>>
    {
        +update(game: Game)
    }

    class Position
    {
        + <<Create>> Position(positionX : Integer, positionY : Integer)
        - positionX : Integer
        - positionY : Integer
        + getPositionX() : Integer
        + getPositionY() : Integer
        + setPositionX(position : Integer)
        + setPositionY(position : Integer)
    }
}

package View
{
    class MainScreen implements Model.GameObserver
   {
        +update(game: Game)
        +displayBoard(board: Board)
        +displayPlayerInfo(players: List<Player>)
    }
    class EndScreen implements Model.GameObserver
    {
        +displayWinner(player: Player)
    }
}

package Controller
{
    class GameController
    {
        -game: Game
        +rotateExtraTile(direction: String)
        +pushRow(rowIndex: Integer, direction: Integer)
        +pushColumn(colIndex: Integer, direction: Integer)
        +movePlayer(player: Player, direction: Integer)
    }
}

TileFactory ..> Tile : <<uses>>
TileFactory ..> TileT : <<uses>>
TileFactory ..> TileAngle : <<uses>>
TileFactory ..> TileLine : <<uses>>

Tile ..> TypeTile : <<uses>>
TileT ..> TypeTile : <<uses>>
TileAngle ..> TypeTile : <<uses>>
TileLine ..> TypeTile : <<uses>>

Player ..> Direction : <<uses>>

Game ..> Tile : <<uses>>

Tile o--> "  1\n - position" Position
Player o--> "  1\n - position" Position
Objective o--> "  1\n - position" Position


Board ..> TileFactory : <<uses>>
Game o--> "  1\n - board" Board
Game *--> "  4\n - player"Player
Game o--> "  *\n - observers" GameObserver

Player o--> "1\n- currentObjective" Objective
Player o--> "0 .. *\n- objectives" Objective
Board *--> "49 \n- tiles" Tile : > contains
Board o--> "1\n- extraTile" Tile : > contains
Board *--> "24\n- objectives" Objective
Board o--> "4\n- pions" Player





GameController ..> Game

@enduml